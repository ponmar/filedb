{% extends "layout.html" %}
{% block content %}

<script>
	$("#files_page").addClass('active');
</script>

{% if session.logged_in %}

<h1>Edit Files</h1>

<div class="panel panel-default">
    <div class="panel-heading">Import Files</div>
    <div class="panel-body">
        <div class="alert alert-info" role="alert"><strong>Note:</strong> What is imported depends in the configuration parameters FILES_ROOT_DIRECTORY, BLACKLISTED_FILE_PATH_PATTERNS and WHITELISTED_FILE_EXTENSIONS.</div>
        <p><button type="submit" class="btn btn-default" id="import_button">Import...</button></p>
        <p id="import_result"></p>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">Add File(s)</div>
    <div class="panel-body">
        <div class="alert alert-info" role="alert"><strong>Note:</strong> Paths are specified from within the root directory specified by the configuration parameters FILES_ROOT_DIRECTORY.</div>
        <form action="{{ url_for('api_add_directory') }}" method=post class="navbar-form navbar-left" role="search" id="add_directory_form">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="From directory path" name="path">
            </div>
            <button type="submit" class="btn btn-default">Add</button>
        </form>
        <form action="{{ url_for('api_add_file') }}" method=post class="navbar-form navbar-left" role="search" id="add_file_form">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="From file path" name="path">
                <input type="text" class="form-control" placeholder="File description" name="description">
            </div>
            <button type="submit" class="btn btn-default">Add</button>
        </form>
    </div>
</div>

<button type="button" class="btn btn-default navbar-btn" id="button_show_all_files">Show all files</button>

<table class="table" id="filestable">
</table>

{% endif %}
{% endblock %}

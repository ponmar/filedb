{% extends "layout.html" %}

{% block subtitle %} | Browse Files{% endblock %}

{% block init_javascript %}
<script>
$(document).ready(function(){
    filedb_init_browse_page();
});
</script>
{% endblock %}

{% block content %}

<script>
	$("#browse_files_page").addClass('active');
</script>

<h1>Browse Files</h1>

<div class="panel panel-default">
  <div class="panel-heading">Simple Search Criteria</div>
  <div class="panel-body">
    <button type="button" class="btn btn-default" id="search_all_files_button" title="">Browse all files</button>
    <button type="button" class="btn btn-default" id="search_ten_random_files_button" title="">Browse ten random files</button>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Advanced Search Criteria</div>
  <div class="panel-body">
    <div class="alert alert-info" role="alert"><strong>Note:</strong> Read about regular expressions at the <a href="{{ url_for('app_help') }}#regexp">Help page</a>.</div>
    <div class="row">
      <div class="col-md-4">
        <label for="file_path_regexp_filter">File path regexp</label>
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Should match: path/to/file" id="file_path_regexp_filter">
          <span class="input-group-btn">
            <button type="button" class="btn btn-default" id="file_path_regexp_button">Search</button>
          </span>
        </div>
      </div>
      <div class="col-md-4">
        <label for="file_description_regexp_filter">File description regexp</label>
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Should match: Any text here" id="file_description_regexp_filter">
          <span class="input-group-btn">
            <button type="button" class="btn btn-default" id="file_description_regexp_button">Search</button>
          </span>
        </div>
      </div>
      <div class="col-md-4">
        <label for="file_date_regexp_filter">File date and time regexp</label>
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Should match: YYYY-MM-DDTHH:MM:SS" id="file_date_regexp_filter">
          <span class="input-group-btn">
            <button type="button" class="btn btn-default" id="file_date_regexp_button">Search</button>
          </span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4">
        <label for="multiplepersonselect">Persons available in file</label>
        <select multiple class="form-control" id="multiplepersonselect" size="15"></select>
        <button type="button" class="btn btn-default" id="search_files_by_persons_button">Search file persons</button>
      </div>
      <div class="col-md-4">
        <label for="multiplelocationselect">File location</label>
        <select multiple class="form-control" id="multiplelocationselect" size="15"></select>
        <button type="button" class="btn btn-default" id="search_files_by_locations_button">Search file locations</button>
      </div>
      <div class="col-md-4">
        <label for="multipletagselect">File tags</label>
        <select multiple class="form-control" id="multipletagselect" size="15"></select>
        <button type="button" class="btn btn-default" id="search_files_by_tags_button">Search file tags</button>
      </div>
    </div>

    <br>
    <button type="button" class="btn btn-default" id="reset_search_criteria_button" title="Reset search criteria">Reset</button>
    <button type="button" class="btn btn-default" id="clear_search_button" title="Clear previous search result">Clear</button>
    <button type="button" class="btn btn-default" id="search_files_by_all_button" title="Make a new search">Search</button>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Exported Search Criteria</div>
  <div class="panel-body">
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Format: id1;id2;id3;..." id="exported_list_of_files_input">
      <span class="input-group-btn">
      <button type="button" class="btn btn-default" id="exported_list_of_files_button">Search</button>
      </span>
    </div>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Search Result</div>
  <div class="panel-body"><span id="search_result_text">No search result available</span></div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">File Browser<span id="slideshow_file_header"></span></div>
  <div class="panel-body">
    <div class="form-group">
      <button type="button" class="btn btn-default" id="slideshow_restart_button" title="Skip to beginning" disabled>&#91;&lt;&lt;</button>
      <button type="button" class="btn btn-default" id="slideshow_prev_file_button" title="Previous" disabled>&lt;&lt;</button>
      <button type="button" class="btn btn-default" id="slideshow_next_file_button" title="Next" disabled>&gt;&gt;</button>
      <button type="button" class="btn btn-default margin_spacer" id="slideshow_end_button" title="Skip to end" disabled>&gt;&gt;&#93;</button>
      <button type="button" class="btn btn-default" id="slideshow_prev_directory_button" title="Skip to previous directory" disabled>&lt;&lt;&lt;</button>
      <button type="button" class="btn btn-default margin_spacer" id="slideshow_next_directory_button" title="Skip to next directory" disabled>&gt;&gt;&gt;</button>
      <button type="button" class="btn btn-default" id="slideshow_toggle_repeat_button">Repeat: Off</button>
      <button type="button" class="btn btn-default" id="slideshow_toggle_random_button" title="">Random: Off</button>
      <button type="button" class="btn btn-default margin_spacer" id="slideshow_toggle_button">Slideshow: Off</button>
      <button type="button" class="btn btn-default" id="slideshow_fullscreen_button" title="Open fullscreen viewer" disabled>Fullscreen</button>
    </div>
    <div class="form-group"><span id="slideshow_item_text">No search result available</span></div>
    <div id="file_browser_image_div"></div>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Export</div>
  <div class="panel-body">
    <button type="button" class="btn btn-default" id="export_file_list" disabled>File list</button>
    <button type="button" class="btn btn-default" id="export_absolute_paths" disabled>Absolute file paths</button>
    <button type="button" class="btn btn-default" id="export_relative_paths" disabled>Relative file paths</button>
    <button type="button" class="btn btn-default" id="export_zip_file" disabled>Zip file</button>
    <br>
    <div id="exportresult"></div>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">File List Tools</div>
  <div class="panel-body">
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Format: id1;id2;id3;..." id="filelist1_input">
      <span class="input-group-btn">
      <button type="button" class="btn btn-default" id="filelist1_update_button">Update from search</button>
      </span>
    </div>
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Format: id1;id2;id3;..." id="filelist2_input">
      <span class="input-group-btn">
      <button type="button" class="btn btn-default" id="filelist2_update_button">Update from search</button>
      </span>
    </div>
    <button type="button" class="btn btn-default" id="filelists_union_button">Generate union</button>
    <button type="button" class="btn btn-default" id="filelists_intersection_button">Generate intersection</button>
    <br>
    <div id="filelisttoolsresult"></div>
  </div>
</div>

<div id="my_fullscreen_browser" class="fullscreen_browser"></div>

{% endblock %}

<html>
<head>
  <title>FileDB CHANGES</title>
  <style>
ul, h2 {
    margin: 0;
    span: 0;
}
h2 {
    margin-top: 0.5em;
}
  </style>
</head>
<body>

<h1>FileDB CHANGES</h1>

<h2>1.1</h2>
<ul>
<li>Webapp: export zip file with files uses HTTP GET request to be able to open the save file dialog in the browser</li>
<li>Webapp: cancel buttons for the forms at the edit categories page</li>
<li>Webapp: fix loading of person thumbnail when starting to edit a person</li>
<li>Webapp: show thumbnail images, when available, for persons with birthday at the current day at the birthdays page</li>
<li>API: a Zip file with specified files can now be downloaded via a HTTP GET request</li>
</ul>

<h2>1.0</h2>
<ul>
<li>Major version stepped due to database format updates (see database upgrade instruction below)</li>
<li>Database: add position column to files table (positions from JPEG files are now stored within the database for fast access)</li>
<li>Database: add profilefileid column to persons table</li>
<li>Webapp: person profile picture can be set</li>
<li>Webapp: Google Maps links for files with position data</li>
<li>Webapp: use javascript built-in fullscreen support to avoid browser-specific instructions</li>
<li>Webapp: show file position, with link to Google Maps, in browser and fullscreen browser</li>
<li>Webapp: add possibility to open route in Google Maps generated from file positions</li>
<li>Server: exif data to json serialization bugfix</li>
<li>Server: add feature for following symlinks in the files collection (disabled by default)</li>
<li>Server: feature FILE_TO_LOCATION_MAX_DISTANCE can now be turned off</li>
<li>API: generated thumbnails can now be rotated automatically according to the JPEG Exif orientation</li>
<li>API: new API for rotating a JPEG according to its Exif orientation data (and can therefore be rendered correctly by a client that ignores the Exif data)</li>
<li>API: new API for finding files located within a specified circle (lat, lon and radius)</li>
<li>Util: use new API that makes server-side reorientation of JPEG images when casting to chromecast</li>
</ul>

<h2>Upgrade v0.X to v1.Y</h2>
<p>Follow this process to upgrade an existing FileDB database from version 0.X to version 1.Y:</p>
<ol>
<li>Open a console (cmd on windows)</li>
<li>Change directory to where your database file is located (example: cd c:\filedb_db)</li>
<li>Run database upgrade script (example: python c:\filedb\scripts\upgrade_v0.X_to_v1.Y.py filedb.db)</li>
</ol>

<h2>0.16</h2>
<ul>
<li>Webapp: Add duplicate files finder tool</li>
<li>Webapp: Toggle fullscreen slideshow with space</li>
<li>Webapp: Pause slideshow when manually changing file or closing the fullscreen browser</li>
<li>Webapp: Add pinned files functionality (client side lightweight tags) to the browse page</li>
<li>Webapp: Use icons as headings in the fullscreen image browser</li>
<li>Webapp: Add a birthdays page in the webapp</li>
<li>Webapp: Search-criteria is now performed server-side on the categorize page </li>
<li>Webapp: Add a path regexp categorize file search</li>
<li>Webapp: Help page updates</li>
<li>Server: Require Python 3.4 or later</li>
<li>API: Add API for getting some stats. Show this on the index page. </li>
<li>API: Add API for fetching files that have not been categorized</li>
<li>API: Add API for getting persons that have birthday today</li>
<li>API: Add API for finding file duplicates</li>
</ul>

<h2>0.15</h2>
<ul>
<li>Webapp: Fullscreen file browser shows overlay text</li>
<li>Webapp: Add support for export search result to M3U playlist</li>
<li>Webapp: Add support for export search result to PLS playlist</li>
<li>Webapp: Fixed keyboard shortcuts for browsers other than Firefox</li>
<li>Webapp: Misc layout improvements</li>
<li>Util: Added example util for casting to TV</li>
<li>Util: Added example util for downloading a list of files</li>
<li>Server: Enabled threading in the flask HTTP server</li>
<li>API: Add support for exporting to M3U playlist</li>
<li>API: Add support for exporting to PLS playlist</li>
</ul>

<h2>0.14</h2>
<ul>
<li>Server: Bugfix for parsing of strange JPEG Exif date and time format created by some old cameras with no time set</li>
<li>API: Some requests support sorting by multiple columns</li>
<li>Webapp: Fullscreen image viewer (Lightbox) replaced with own improved version with better integration</li>
<li>Webapp: Exported file lists can now be used at the categorize page</li>
<li>Webapp: New exported file list tools: union, intersection and difference</li>
<li>Webapp: CSS is now used to rotate images depending on Exif-data (read more information at the help page)</li>
<li>Webapp: Sort by different columns at the browse page</li>
<li>Webapp: Some button enabling/disabling</li>
<li>Webapp: Bugfix for latitude and longitude input validation for locations</li>
</ul>

<h2>0.13</h2>
<ul>
<li>Webapp: Show a warning message at the index page if the root directory is missing</li>
<li>Application: Added an example Python application that shows a slideshow of random images via the API</li>
<li>Configuration: Improved documentation and error handling for the files root directory option</li>
<li>Configuration: Added FILES_ROOT_DIRECTORY_MOUNT_COMMAND option</li>
<li>Configuration: Added FILES_ROOT_DIRECTORY_UMOUNT_COMMAND option</li>
<li>Server: Bugfix for files root directory relative path that includes ..</li>
<li>Server: Bugfix for database initialization</li>
<li>Server: New command line argument for printing added files (for debugging purposes)</li>
</ul>

<h2>0.12</h2>
<ul>
<li>Webapp: Added feature for renaming file path for all files within a directory when a directory has been renamed in the file collection</li>
<li>Webapp: Added posibility to export a list of file ids at the browse page</li>
<li>Webapp: List directories with search hits at the categorize page</li>
<li>Webapp: Enable some buttons only when they are useful</li>
<li>Webapp: Minor fixes and improvements</li>
<li>API: /api/renamefilesindir/ added</li>
<li>API: /api/randomfile/ added</li>
<li>API: /api/randomfiles/ added</li>
<li>API bugfix: Fixed that hidden files where listed for some API calls</li>
</ul>

<h2>0.11</h2>
<ul>
<li>Webapp: The manage files page fetches available directories from the server (no more writing paths manually!)</li>
<li>Webapp: The manage files page supports deleting directories</li>
<li>Webapp: New layout for the slideshow at the browse page</li>
<li>Documentation: minor updates and license clarifications</li>
<li>API: Fixed ordering bugs</li>
<li>API: Calls with ordering now supports both ascending and descending order</li>
<li>API: New call for removing all files within the specified directory</li>
</ul>

<h2>0.10</h2>
<ul>
<li>Documentation: Merged README.html into README.md</li>
<li>Webapp: Introduced a fullscreen image viewer (Lightbox) at the browse page</li>
<li>Webapp: Added a repeat toggle button to the browse page</li>
</ul>

<h2>0.9</h2>
<ul>
<li>Server: Fixed import error for Python 3.4</li>
<li>Server: Removed authentication, because it was not used and it made the API complicated</li>
<li>Configuration: removed USERNAME option</li>
<li>Configuration: removed PASSWORD option</li>
<li>Configuration: removed VERSION option</li>
<li>Release: Replaced ant build script with the possibility to download tags at the Bitbucket download page</li>
</ul>

<h2>0.8</h2>
<ul>
<li>Webapp: Export functionality for absolute and relative paths at the browse page</li>
<li>Configuration: Added PROJECT_HOME option</li>
<li>Configuration: Added EXPORTED_ZIP_COMMENT option</li>
<li>Configuration: Added EXPORTED_ZIP_MAX_NUM_FILES option</li>
<li>API: /api/exportpaths added</li>
<li>API: /api/exportabspaths added</li>
<li>API: /api/exportzip added</li>
<li>API: Added position (latitude and longitude) validation for locations</li>
<li>API: Improved SQL parameter handling to avoid SQL injection</li>
<li>Server: Abort start if the database has not been created to avoid strange error printouts when trying to connect to the non-existing database</li>
</ul>

<h2>0.7</h2>
<ul>
<li>Configuration: Format changed to use classes to simplify upgrading and changing configurations</li>
<li>Configuration: Added command line argument for changing configuration without updating the config module</li>
<li>Configuration: Default database name changed from flaskr.db to filedb.db (rename your old database file when upgrading)</li>
<li>Configuration: Added TITLE option for setting the webapp title and heading, with a default value that includes the FileDB version</li>
<li>Configuration: Added PORT option for setting the TCP port to run the webserver at</li>
<li>Documentation: README, CHANGES and API documentation is now available from the webapp</li>
<li>API: /api/thumbnail added</li>
<li>API: improved documentation</li>
<li>Release: Include an empty files directory, because it is the default root directory configuration</li>
<li>Webapp: Don't show the T in the datetime text at the browse page</li>
</ul>

<h2>0.6</h2>
<ul>
<li>Webapp: Added posibility to list directories from within the configured root directory</li>
<li>Webapp: Added some alert messages for when form input is missing</li>
<li>API: /api/files now matches all search categories</li>
<li>API: /api/fs_directories added</li>
<li>API: /api/directories added</li>
<li>Release: Added this changelog</li>
<li>Release: Added Ant build script to simplify making new releases</li>
</ul>

</body>
</html>
